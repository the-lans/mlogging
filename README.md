# mlogging
Outputting logs to Telegram



Логирование своих программ с выводом лога в Telegram.

Для того, чтобы всё работало необходимо:

1. Создать Telegram бота

2. Создать Telegram канал

3. Назначить бота администратором канала

4. Необходимую информацию занести в файл tgsettings.ini 

   

Функции для работы:

- log_write_txt(str = "") - Вывод текстового сообщения в лог-файл в формате <YYYY-mm-dd HH:MM:SS> <Text>. Если параметр str не задан, в лог файле происходит просто переход на новую строку.
- send_tgmessage(res=True, text="") - Вывод текстового сообщения text в лог-файл + в Telegram канал. Параметр res нужен для накопления текста text во временной переменной для отложеной его отправки. По умолчанию res=True, т.е. накопления не происходит и текст сразу отправляется в лог. Функция возвращает (bool), успешность отправки сообщения.
- send_tgphoto(file_name) - Отправка фото по имени файла file_name. Функция возвращает (bool), успешность отправки сообщения.



Чтобы логирование заработало, необходимо в конфигурационном файле поменять следующие параметры:

- log_dir - Название директории для логов.

- log_file_name - Путь к файлу с логом.

- name_group - Название канала в Telegram. Например, @group_message.

- token - Ваш токен Telegram бота в формате 9999999999:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.

  

